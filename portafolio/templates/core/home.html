{% extends 'core/base.html' %}

{% load static %}

{% block imgperfil %}
  {{ portfolio_header.profile_image.url }}
{% endblock imgperfil %}

{% block nombre %}
  {{ portfolio_header.name }}
{% endblock nombre %}

{% block twitter %}
  {{ portfolio_header.twitter }}
{% endblock %} 

{% block facebook %}
  {{ portfolio_header.facebook }}
{% endblock %}

{% block instagram %}
  {{ portfolio_header.instagram }}
{% endblock %}

{% block linkedin %}
  {{ portfolio_header.linkedin }}
{% endblock %}

{% block github %}
  {{ portfolio_header.github }}
{% endblock %}

{% block youtube %}
  {{ portfolio_header.youtube }}
{% endblock %}

{% block nombre_about %}
  {{ portfolio_header.name }}
{% endblock nombre_about %}

{% block background %}
  style="background: url('{{ portfolio_header.hero_background.url }}') top right; background-size: cover;"  
{% endblock background %}


{% block typed_items %}
{{ portfolio_header.typed_items }}  
{% endblock typed_items %}
  



{% block content %}


<main id="main">

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container">

        <div class="section-title">
          <h2>About</h2>
          <p>{{ portfolio_header.bio }}</p>
        </div>

        <div class="row">
          <div class="col-lg-4" data-aos="fade-right">
            <img src="{{ portfolio_header.profile_image.url }}" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left">
            <h3>{{ about_me.name }}</h3>
            <p class="fst-italic">
              {{ about_me.desc_short }}
            </p>
            <div class="row">
              <div class="col-lg-6">
                <ul>
                  <li><i class="bi bi-chevron-right"></i> <strong>Birthday:</strong> <span>{{ about_me.birthday }}</span></li>
                  <li><i class="bi bi-chevron-right"></i> <strong>Website:</strong> <span>{{ about_me.website }}</span></li>
                  <li><i class="bi bi-chevron-right"></i> <strong>Phone:</strong> <span>{{ about_me.phone }}</span></li>
                  <li><i class="bi bi-chevron-right"></i> <strong>City:</strong> <span>{{ about_me.city }}</span></li>
                </ul>
              </div>
              <div class="col-lg-6">
                <ul>
                  <li><i class="bi bi-chevron-right"></i> <strong>Age:</strong> <span>{{ about_me.age }}</span></li>
                  <li><i class="bi bi-chevron-right"></i> <strong>Degree:</strong> <span>{{ about_me.degree }}</span></li>
                  <li><i class="bi bi-chevron-right"></i> <strong>Email:</strong> <span>{{ about_me.email }}</span></li>
                  <li><i class="bi bi-chevron-right"></i> <strong>Freelance:</strong> <span>{{ about_me.freelance }}</span></li>
                </ul>
              </div>
            </div>
            <p>
                {{ about_me.desc_long }}
            </p>
          </div>
        </div>

      </div>
    </section><!-- End About Section -->

    <!-- ======= Facts Section ======= -->
    <section id="facts" class="facts">
      <div class="container">

        <div class="section-title">
          <h2>{{ facts_desc.tittle_section }}</h2>
          <p>{{ facts_desc.desc_section }}</p>
        </div>

        <div class="row no-gutters">
          {% for fact in facts  %}
          <div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch" data-aos="fade-up">
            <div class="count-box">
              <i class="{{ fact.icon_name }}"></i>
              <span data-purecounter-start="0" data-purecounter-end={{ fact.end_value }} data-purecounter-duration={{ fact.duration }} class="purecounter"></span>
              <p><strong>{{ fact.title }}</strong>.</p>
            </div>
          </div>
          {% endfor %}


        </div>

      </div>
    </section><!-- End Facts Section -->

    <!-- ======= Skills Section ======= -->
    <section id="skills" class="skills section-bg">
      <div class="container">

        <div class="section-title">
          <h2>Hard Skills</h2>
          <p>Aquí se muestran mis habilidades medibles</p>
        </div>
        <div class="row skills-content">

          <!-- Columna izquierda -->
          <div class="col-lg-6">
            {% for skill in left_hard_skills %}
            <div class="progress">
              <span class="skill">
                {% if skill.image %}
                  <img src="{{ skill.image.url }}" alt="{{ skill.name }}" class="skill-icon"> <!-- Imagen -->
                {% endif %}
                {{ skill.name }} 
                <i class="val">{{ skill.percentage }}%</i>
              </span>
              <div class="progress-bar-wrap">
                <div class="progress-bar" role="progressbar" aria-valuenow="{{ skill.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            {% endfor %}
          </div>
        
          <!-- Columna derecha -->
          <div class="col-lg-6">
            {% for skill in right_hard_skills %}
            <div class="progress">
              <span class="skill">
                {% if skill.image %}
                  <img src="{{ skill.image.url }}" alt="{{ skill.name }}" class="skill-icon"> <!-- Imagen -->
                {% endif %}
                {{ skill.name }} 
                <i class="val">{{ skill.percentage }}%</i>
              </span>
              <div class="progress-bar-wrap">
                <div class="progress-bar" role="progressbar" aria-valuenow="{{ skill.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            {% endfor %}
          </div>
        
        </div>
        <br>
        <div class="section-title">
          <h2>Soft Skills</h2>
          <p>Aquí se muestran mis habilidades perceptibles</p>
        </div>
        <div class="row skills-content">

          <!-- Columna izquierda -->
          <div class="col-lg-6">
            {% for skill in left_soft_skills %}
            <div class="progress">
              <span class="skill">
                {% if skill.image %}
                  <img src="{{ skill.image.url }}" alt="{{ skill.name }}" class="skill-icon"> <!-- Imagen -->
                {% endif %}
                {{ skill.name }} 

              </span>
              <div class="progress-bar-wrap">
                <div class="progress-bar" role="progressbar" aria-valuenow="{{ skill.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            {% endfor %}
          </div>
        
          <!-- Columna derecha -->
          <div class="col-lg-6">
            {% for skill in right_soft_skills %}
            <div class="progress">
              <span class="skill">
                {% if skill.image %}
                  <img src="{{ skill.image.url }}" alt="{{ skill.name }}" class="skill-icon"> <!-- Imagen -->
                {% endif %}
                {{ skill.name }} 

              </span>
              <div class="progress-bar-wrap">
                <div class="progress-bar" role="progressbar" aria-valuenow="{{ skill.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            {% endfor %}
          </div>
        
        </div>

      </div>
    </section><!-- End Skills Section -->

    <!-- ======= Resume Section ======= -->
    <section id="resume" class="resume">
      <div class="container">

        <div class="section-title">
          <h2>{{ resume_desc.tittle_section }}</h2>
          <p>{{ resume_desc.desc_section }}</p>
        </div>

        <div class="row">
          <div class="col-lg-6" data-aos="fade-up">
            <h3 class="resume-title">Education</h3>
        
            {% for edu in educations %}
            <div class="resume-item {% if forloop.counter > 5 %}extra-resume d-none{% endif %}">
                <h4>{{ edu.degree }}</h4>
                <h5>{{ edu.start_year }} - {% if edu.end_year %}{{ edu.end_year }}{% else %}Present{% endif %}</h5>
                <p><em>{{ edu.institution }}</em></p>
                <p>{{ edu.description }}</p>
            </div>
            {% endfor %}
        
            <!-- Botón para mostrar más o menos -->
            <button id="show-more-btn-edu" class="btn btn-primary mt-3" onclick="toggleResume()">Más...</button>
        </div>

          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
            <h3 class="resume-title">Professional Experience</h3>
            {% for exp in experiences %}
            <div class="resume-item  {% if forloop.counter > 2 %}extra-resume d-none{% endif %}">
                <h4>{{ exp.title }}</h4>
                <h5>{{ exp.start_year }} - {% if exp.end_year %}{{ exp.end_year }}{% else %}Present{% endif %}</h5>
                <p><em>{{ exp.company }}</em></p>
                <p>{{ exp.description }}</p>
                <ul>
                    {% for responsibility in exp.responsibilities_list %}
                        <li>{{ responsibility }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endfor %}
            <!-- Botón para mostrar más o menos -->
            <button id="show-more-btn-exp" class="btn btn-primary mt-3" onclick="toggleResume()">Más...</button>
          </div>
        </div>

      </div>
    </section><!-- End Resume Section -->

    <!-- ======= Portfolio Section ======= -->
    <section id="portfolio" class="portfolio section-bg">
      <div class="container">

        <div class="section-title">
          <h2>{{ portfolio_desc.tittle_section }}</h2>
          <p>{{ portfolio_desc.desc_section  }}</p>
        </div>

        <div class="row" data-aos="fade-up">
          <div class="col-lg-12 d-flex justify-content-center">
            <ul id="portfolio-flters">
              <li data-filter="*" class="filter-active">All</li>
              <li data-filter=".filter-software">Sorftware</li>
              <li data-filter=".filter-audiovisual">Audiovisual</li>
              <li data-filter=".filter-otros">Otros</li>
            </ul>
          </div>
        </div>

        <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">
          {% for item in items %}
          <div class="col-lg-4 col-md-6 portfolio-item filter-{{ item.category|lower }}">
              <div class="portfolio-wrap">
                  <img src="{{ item.image1.url }}" class="img-fluid" alt="">
                  <div class="portfolio-info">
                      <h4>{{ item.title }}</h4>
                      <p>{{ item.category }}</p>
                      <div class="portfolio-links">
                          <a href="{{ item.image1.url }}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="{{ item.title }}">
                              <i class="bx bx-plus"></i>
                          </a>
                          <a href="{% url 'portfolio-details' item.pk %}" class="portfolio-details-lightbox" data-glightbox="type: external" title="Portfolio Details">
                              <i class="bx bx-link"></i>
                          </a>
                      </div>
                  </div>
              </div>
          </div>
          {% endfor %}
        </div>

      </div>
    </section><!-- End Portfolio Section -->

    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <div class="container">

        <div class="section-title">
          <h2>{{ services_desc.tittle_section }}</h2>
          <p>{{ services_desc.desc_section }}</p>
        </div>

        <div class="row">
          {% for service in services %}
            <div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up">
              <div class="icon"><i class="{{ service.icon_name }}"></i></div>
              <h4 class="title"><a href="">{{ service.title }}</a></h4>
              <p class="description">{{ service.description }}</p>
            </div>
          {% endfor %}

        </div>

      </div>
    </section><!-- End Services Section -->

    <!-- ======= Testimonials Section ======= -->
    <section id="testimonials" class="testimonials section-bg">
      <div class="container">

        <div class="section-title">
          <h2> {{ testimonials_desc.tittle_section }}</h2>
          <p>{{ testimonials_desc.desc_section }}</p>
        </div>

        <div class="testimonials-slider swiper" data-aos="fade-up" data-aos-delay="100">
          <div class="swiper-wrapper">
            {% for testimonial in testimonials %}
            <div class="swiper-slide">
              <!-- testimonial item -->

              <div class="testimonial-item" data-aos="fade-up">
                <p>
                  <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    {{ testimonial.testimonial_text }}
                  <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                </p>
                {% if testimonial.testimonial_image %}
                <img src="{{ testimonial.testimonial_image.url }}" class="testimonial-img" alt="{{ testimonial.author_name }}">
                {% else %}
                <!-- Aquí puedes agregar una imagen por defecto si no hay imagen -->
                <img src="{% static 'core/img/testimonials/testimonial.jpg' %}" class="testimonial-img" alt="{{ testimonial.author_name }}">
                {% endif %}
                <h3>{{ testimonial.author_name }}</h3>
                <h4>{{ testimonial.author_position }}</h4>

              </div>
            </div><!-- End testimonial item -->
            {% endfor %}

          </div>
          
          <div class="swiper-pagination"></div>
        </div>

      </div>
    </section><!-- End Testimonials Section -->

    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container">

        <div class="section-title">
          <h2>{{ contact_info.tittle_section }}</h2>
          <p>{{ contact_info.desc_section }}</p>
        </div>

        <div class="row" data-aos="fade-in">

          <div class="col-lg-5 d-flex align-items-stretch">
            <div class="info">
              <div class="address">
                <i class="bi bi-geo-alt"></i>
                <h4>Location:</h4>
                <p>{{ contact_info.location }}</p>
              </div>

              <div class="email">
                <i class="bi bi-envelope"></i>
                <h4>Email:</h4>
                <p>{{ contact_info.email }}</p>
              </div>

              <div class="phone">
                <i class="bi bi-phone"></i>
                <h4>Call:</h4>
                <p>{{ contact_info.call }}</p>
              </div>

              <iframe src="https://www.google.com/maps?q={{ contact_info.location }}&output=embed" frameborder="0" style="border:0; width: 100%; height: 290px;" allowfullscreen></iframe>
            </div>

          </div>

          <div class="col-lg-7 mt-5 mt-lg-0 d-flex align-items-stretch">
            <form id="contact-form" action="{% url 'contact' %}" method="post" role="form" class="php-email-form">
              {% csrf_token %}
              <div class="row">
                  <div class="col-md-6 form-group">
                      {{ form.name }}
                  </div>
                  <div class="col-md-6 form-group mt-3 mt-md-0">
                      {{ form.email }}
                  </div>
              </div>
              <div class="form-group mt-3">
                  {{ form.subject }}
              </div>
              <div class="form-group mt-3">
                  {{ form.message }}
              </div>
              <div class="my-3">
                  <div class="loading">Loading</div>
                  <div class="error-message"></div>
                  <div class="sent-message">Tu mensase de envio con exito! Gracias c:</div>
              </div>
              <div class="text-center"><button type="submit">Send Message</button></div>
            </form>
          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

{% endblock content %}
    
